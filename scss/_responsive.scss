@use 'variables' as *;

// Responsive Design
@mixin mobile {
    @media (max-width: $mobile) {
        @content;
    }
}

@mixin tablet {
    @media (max-width: $tablet) {
        @content;
    }
}

@mixin desktop {
    @media (min-width: $desktop) {
        @content;
    }
}

// Tablet responsive styles
@include tablet {
    .global-header {
        .container {
            flex-direction: row;
            gap: $spacing-md;
            padding: 0 $spacing-lg;
        }
        
        &-left {
            gap: $spacing-md;
        }
    }
    
    .main-header {
        padding: $spacing-md 0;
        
        .container {
            flex-wrap: wrap;
            gap: $spacing-lg;
            padding: 0 $spacing-lg;
        }
        
        // Scrolled state adjustments for tablet
        &.scrolled {
            .container {
                gap: $spacing-md;
            }
            
            .header-left {
                .main-nav ul {
                    gap: $spacing-md;
                    flex-wrap: wrap;
                }
            }
            
            .search-box {
                width: 250px;
                min-width: 200px;
            }
        }
    }
    
    .header-left {
        gap: $spacing-lg;
        flex-wrap: wrap;
        flex: 1;
        min-width: 300px;
    }
    
    .main-nav ul {
        gap: $spacing-md;
        flex-wrap: wrap;
    }
    
    .search-box {
        width: 100%;
        max-width: 350px;
        min-width: 200px;
    }
    
    .banner-section {
        width: 95%;
        height: 350px;
        flex-direction: column;
        gap: $spacing-lg;
    }
    
    .banner-slider {
        width: 100%;
        max-width: 100%;
        height: 280px;
        order: 1;
    }
    
    .banner-content {
        left: $spacing-xl;
        right: $spacing-xl;
        
        h2 {
            font-size: 2rem;
        }
        
        p {
            font-size: 1rem;
        }
    }
    
    // Don't hide swiper buttons on tablet - let the banner.scss handle it
    // .swiper-button-prev,
    // .swiper-button-next {
    //     display: none;
    // }
}

// Mobile responsive styles
@include mobile {
    .container {
        padding: 0 $spacing-md;
        max-width: 100%;
    }
    
    .global-header {
        &-left {
            flex-direction: row;
            gap: $spacing-sm;
            flex-wrap: wrap;
        }
        
        &-right {
            .country-selector {
                font-size: 0.9rem;
            }
        }
    }
    
    .main-header {
        padding: $spacing-sm 0;
        
        .container {
            flex-direction: column;
            gap: $spacing-md;
            align-items: stretch;
        }
        
        // Original mobile adjustments for layout
        &.scrolled {
            .container {
                flex-direction: column;
                gap: $spacing-md;
            }
            
            .header-left,
            .header-right {
                width: 100%;
                justify-content: center;
                transform: none !important;
            }
        }
    }
    
    .header-left {
        flex-direction: column;
        gap: $spacing-md;
        width: 100%;
        align-items: center;
    }
    
    .logo {
        order: -1;
        
        img {
            max-height: 40px;
            width: auto;
        }
    }
    
    .main-nav {
        width: 100%;
        
        ul {
            flex-direction: row;
            gap: $spacing-sm;
            text-align: center;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .nav-link {
            font-size: 0.9rem;
            padding: $spacing-sm $spacing-md;
        }
    }
    
    .banner-section {
        width: 95%;
        height: 250px;
        margin: $spacing-md auto;
        flex-direction: column;
        gap: $spacing-md;
    }
    
    .banner-slider {
        width: 100%;
        height: 200px;
        order: 1;
    }
    
    .banner-content {
        left: $spacing-md;
        right: $spacing-md;
        text-align: center;
        
        h2 {
            font-size: 1.3rem;
            margin-bottom: $spacing-sm;
        }
        
        p {
            font-size: 0.85rem;
            margin-bottom: $spacing-md;
        }
        
        .banner-buttons {
            display: flex;
            gap: $spacing-sm;
            justify-content: center;
            flex-wrap: wrap;
            
            .btn {
                font-size: 0.8rem;
                padding: $spacing-sm $spacing-md;
            }
        }
    }
    
    .banner-nav {
        padding: 0 $spacing-sm;
        bottom: $spacing-sm;
    }
    
    .banner-prev,
    .banner-next {
        width: 35px;
        height: 35px;
        font-size: 0.9rem;
    }
    
    .search-box {
        width: 100%;
        max-width: 100%;
        
        input {
            font-size: $font-size-base;
            padding: $spacing-sm $spacing-md;
        }
        
        button {
            padding: $spacing-sm;
        }
    }
    
    .header-right {
        flex-direction: column;
        gap: $spacing-md;
        width: 100%;
        align-items: center;
        
        .user-actions {
            flex-direction: row;
            gap: $spacing-md;
            width: 100%;
            justify-content: center;
            flex-wrap: wrap;
        }
    }
    
    // Navigation dropdown adjustments
    .dropdown-menu {
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        width: 100vw !important;
        height: 100vh !important;
        background: rgba(0, 0, 0, 0.95) !important;
        z-index: 9999 !important;
        
        .dropdown-content {
            padding: $spacing-xl;
            max-width: 100%;
            height: 100%;
            overflow-y: auto;
            
            .dropdown-column {
                margin-bottom: $spacing-lg;
            }
        }
    }
    
    // Hide complex navigation elements only on mobile screens
    .swiper-button-prev,
    .swiper-button-next {
        display: none; // Remove !important to allow override by banner.scss
    }
}

// Large desktop styles
@include desktop {
    .container {
        max-width: 1400px;
        padding: 0 $spacing-xl;
    }
    
    .main-header {
        .container {
            padding: 0 $spacing-xxl;
        }
    }
    
    .banner-section {
        max-width: 1200px;
        height: 400px;
    }
    
    .banner-slider {
        width: 950px;
        height: 100%;
    }
    
    .banner-content {
        left: 60px;
        
        h2 {
            font-size: 3rem;
        }
        
        p {
            font-size: 1.4rem;
        }
    }
    
    .swiper-button-prev,
    .swiper-button-next {
        display: flex;
        width: 200px;
        flex-shrink: 0;
    }
}

// Extra large screens
@media (min-width: 1440px) {
    .container {
        max-width: 1600px;
    }
    
    .banner-section {
        max-width: 1400px;
    }
}

// Fix content overflow for screens smaller than 1001px
@media (max-width: 1000px) {
    .container, .main-content, .banner-section, .games-content, .cards-content {
        max-width: 100%;
        box-sizing: border-box;
        overflow-x: hidden;
        padding-left: 8px;
        padding-right: 8px;
    }
}

// Medium screens (between tablet and desktop)
@media (min-width: 769px) and (max-width: 1023px) {
    .main-header {
        .container {
            flex-wrap: nowrap;
        }
        
        .header-left {
            flex-direction: row;
            gap: $spacing-lg;
        }
        
        .main-nav ul {
            flex-direction: row;
            gap: $spacing-md;
        }
        
        .search-box {
            max-width: 250px;
        }
    }
}

// Small laptops and large tablets
@media (min-width: 1024px) and (max-width: 1199px) {
    .banner-section {
        width: 90%;
        height: 320px;
    }
    
    .banner-slider {
        width: 100%;
        max-width: 700px;
    }
}
